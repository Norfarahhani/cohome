<ion-header>
  <ion-toolbar>
    <!-- Back Button -->
    <ion-buttons slot="start" (click)="cancelCreate()">
      <ion-icon style="font-size: 20px" name="chevron-back-outline"></ion-icon>
    </ion-buttons>

    <!-- Centered Title -->
    <ion-title class="header-title">
      Add Expense
    </ion-title>

    <!-- Save Button -->
    <ion-buttons slot="end" (click)="create()">
      <ion-icon style="font-size: 20px" name="checkmark-done-outline"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-list [inset]="true" class="rounded-list">
    <ion-item>
      <ion-input [(ngModel)]="expense.amount" type="number" min="0" max="120" placeholder="Amount"></ion-input>
      <ion-icon name="cash-outline" slot="end" style="margin-left: 10px"></ion-icon>
    </ion-item>
  </ion-list>

  <ion-list [inset]="true" class="rounded-list">
    <ion-item>
      <!-- Dynamically change the label based on user selection -->
      <ion-label>{{ expense.selected_category ? expense.selected_category : 'Category' }}</ion-label>

      <!-- Select Button for Category Options -->
      <ion-select [(ngModel)]="expense.selected_category" slot="end" placeholder="Select a Category" interface="popover"
        style="width: 0; opacity: 0">
        <ion-select-option value="Entertainment">Entertainment</ion-select-option>
        <ion-select-option value="Food & Drinks">Food & Drinks</ion-select-option>
        <ion-select-option value="Groceries">Groceries</ion-select-option>
        <ion-select-option value="Transport">Transport</ion-select-option>
        <ion-select-option value="Housing">Housing</ion-select-option>
        <ion-select-option value="Others">Others</ion-select-option>
      </ion-select>
      <ion-icon name="chevron-forward-outline" slot="end" style="margin-left: 10px"></ion-icon>
    </ion-item>
  </ion-list>

  <!-- <ion-list [inset]="true" class="rounded-list">
    <ion-item>
      <ion-input
        [(ngModel)]="expense.date"
        type="date"
        placeholder="YYYY-MM-DD"
      ></ion-input>
    </ion-item>
  </ion-list> -->

  <ion-list [inset]="true" class="rounded-list">
    <ion-item>
      <ion-textarea [(ngModel)]="expense.notes" placeholder="Write your notes..." label="Notes"
        labelPlacement="floating" rows="3"></ion-textarea>
    </ion-item>
  </ion-list>

  <ion-list [inset]="true" class="rounded-list">
    <ion-item>
      <ion-icon name="person-outline" slot="start" style="margin-right: 10px"></ion-icon>
      <ion-label>Assign Expense</ion-label>
      <ion-select [(ngModel)]="expense.members" slot="end" [multiple]="true">
        <ion-select-option *ngFor="let householdMemberModel of householdMemberModels"
          [value]="householdMemberModel.userDetails.uid">{{ householdMemberModel.userDetails.name }}</ion-select-option>
      </ion-select>
    </ion-item>
  </ion-list>
</ion-content>